
# 值类别与decltype

## 1. 表达式肯定属于 三种之一 左值，将亡值，纯右值， 表达式才有值类型的概念，变量，对象没这个概念

## 2. 函数返回是纯右值表达式，非字符串字面量是纯右值

## 3. decltype会根据表达式的值类型推导出结果 左值 T& ,纯右值 T , 将亡值 T&& 

## 4. 将亡值和纯右值 是传统概念的右值

## 5. 对于纯右值初始化对象，不会先调用默认构造，再移动构造，只会调用默认构造

```c++
struct X
{
public:
    X()
    {
        cout << "默认构造" << "\n";
    }
    X(const X&)
    {
        cout << "拷贝构造" << "\n";
    }

    X(X&& x)
    {
        cout << "移动构造" << "\n";
    }
};

X();  // 默认
X x = move(X()); //默认 移动；因为是将亡值
X x2 = X(); // 默认;不会先调用默认，再移动，C++17之后，优化是必须的
```
